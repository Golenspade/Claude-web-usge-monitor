![Demo](claude-usage-monitor/demo.png)

## English

Claude Usage Monitor for browsers. Track your Claude web usage with a floating panel and popup. Countdown strictly follows the official reset time displayed by Claude (e.g., "resets 1:00 PM").

- Realâ€‘time monitoring and progress bar
- Floating panel (draggable, collapsible)
- Official-only limit timer: uses absolute time like "1:00 PM" first; falls back to "Resets in Xh Ym" only if no absolute time is present; never guesses
- Data persistence; auto-clear when reset time arrives or sending becomes available again

Install (Developer Mode):
1) Load the extension folder claude-usage-monitor as an unpacked extension
2) Open claude.ai and you will see the panel in the top-right corner

Notes:
- The timer is hidden unless an official reset time is parsed
- Minutes are rounded up (ceil), so +/-1 minute display differences are expected

---

# Claude Usage Monitor for Zen Browser

ä¸€ä¸ªä¸“ä¸ºZen Browserè®¾è®¡çš„Claude AIç”¨é‡ç›‘æ§æ’ä»¶ï¼Œå¸®åŠ©ä½ å®æ—¶è·Ÿè¸ªClaudeç½‘é¡µç‰ˆçš„ä½¿ç”¨æƒ…å†µã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ”¥ **å®æ—¶ç›‘æ§** - è‡ªåŠ¨è·Ÿè¸ªClaudeæ¶ˆæ¯å‘é€æ•°é‡
- ğŸ“Š **å¯è§†åŒ–ç•Œé¢** - ç¾è§‚çš„æ‚¬æµ®çª—å£æ˜¾ç¤ºç”¨é‡ä¿¡æ¯
- ğŸ“ˆ **è¿›åº¦æ¡æ˜¾ç¤º** - ç›´è§‚çš„ç”¨é‡ç™¾åˆ†æ¯”å’Œè¿›åº¦æ¡
- ğŸ”” **æ™ºèƒ½æé†’** - æ¥è¿‘é™åˆ¶æ—¶è‡ªåŠ¨æé†’
- ğŸ¨ **ä¸»é¢˜é€‚é…** - æ”¯æŒæµ…è‰²/æ·±è‰²ä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - è‡ªåŠ¨ä¿å­˜ç”¨é‡æ•°æ®
- ğŸ”„ **æ¯æ—¥é‡ç½®** - è‡ªåŠ¨é‡ç½®æ¯æ—¥ç”¨é‡è®¡æ•°

## å®‰è£…æ­¥éª¤

### 1. å‡†å¤‡æ–‡ä»¶

åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ `claude-usage-monitor`ï¼Œå°†ä»¥ä¸‹æ–‡ä»¶ä¿å­˜åˆ°è¯¥æ–‡ä»¶å¤¹ï¼š

```
claude-usage-monitor/
â”œâ”€â”€ manifest.json      # æ’ä»¶æ¸…å•æ–‡ä»¶
â”œâ”€â”€ content.js         # å†…å®¹è„šæœ¬
â”œâ”€â”€ background.js      # åå°è„šæœ¬
â”œâ”€â”€ popup.html         # å¼¹çª—é¡µé¢
â”œâ”€â”€ popup.js          # å¼¹çª—è„šæœ¬
â”œâ”€â”€ styles.css        # æ ·å¼æ–‡ä»¶
â””â”€â”€ icons/            # å›¾æ ‡æ–‡ä»¶å¤¹
    â”œâ”€â”€ icon16.png
    â”œâ”€â”€ icon32.png
    â”œâ”€â”€ icon48.png
    â””â”€â”€ icon128.png
```

### 2. åˆ›å»ºå›¾æ ‡

åœ¨ `icons` æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸åŒå°ºå¯¸çš„å›¾æ ‡æ–‡ä»¶ï¼Œæˆ–ä½¿ç”¨åœ¨çº¿å›¾æ ‡ç”Ÿæˆå™¨ï¼š

- **ç®€å•æ–¹æ¡ˆ**: ä½¿ç”¨ä»»æ„å›¾æ ‡ç¼–è¾‘è½¯ä»¶åˆ›å»ºç´«è‰²æ¸å˜çš„"C"å­—å›¾æ ‡
- **åœ¨çº¿ç”Ÿæˆ**: ä½¿ç”¨ [favicon.io](https://favicon.io) ç­‰åœ¨çº¿å·¥å…·

### 3. åœ¨Zen Browserä¸­åŠ è½½

1. æ‰“å¼€Zen Browser
2. åœ¨åœ°å€æ è¾“å…¥ `about:debugging`
3. ç‚¹å‡»"This Firefox"
4. ç‚¹å‡»"Load Temporary Add-on"
5. é€‰æ‹©æ’ä»¶æ–‡ä»¶å¤¹ä¸­çš„ `manifest.json` æ–‡ä»¶
6. æ’ä»¶å°†è‡ªåŠ¨åŠ è½½å¹¶å‡ºç°åœ¨æ‰©å±•åˆ—è¡¨ä¸­

### 4. éªŒè¯å®‰è£…

1. è®¿é—® [claude.ai](https://claude.ai)
2. ç­‰å¾…å‡ ç§’é’Ÿï¼Œé¡µé¢å³ä¸Šè§’åº”è¯¥å‡ºç°ç”¨é‡ç›‘æ§æ‚¬æµ®çª—
3. ç‚¹å‡»Zen Browserå·¥å…·æ ä¸­çš„æ’ä»¶å›¾æ ‡ï¼ŒæŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡

## ä½¿ç”¨è¯´æ˜

### æ‚¬æµ®çª—åŠŸèƒ½

- **æ‹–æ‹½ç§»åŠ¨**: ç‚¹å‡»æ ‡é¢˜æ å¯æ‹–æ‹½ç§»åŠ¨ä½ç½®
- **æŠ˜å å±•å¼€**: ç‚¹å‡» `âˆ’` / `+` æŒ‰é’®æŠ˜å æˆ–å±•å¼€è¯¦æƒ…
- **å®æ—¶æ›´æ–°**: å‘é€æ¶ˆæ¯åè‡ªåŠ¨æ›´æ–°è®¡æ•°

### å¼¹çª—é¢æ¿

ç‚¹å‡»æ’ä»¶å›¾æ ‡æ‰“å¼€è¯¦ç»†é¢æ¿ï¼š

- **ä»Šæ—¥æ¶ˆæ¯æ•°**: å½“å‰å·²å‘é€çš„æ¶ˆæ¯æ•°é‡
- **ä½¿ç”¨ç™¾åˆ†æ¯”**: åŸºäºæ£€æµ‹åˆ°çš„è®¡åˆ’é™åˆ¶è®¡ç®—çš„ä½¿ç”¨ç‡
- **è®¡åˆ’ä¿¡æ¯**: è‡ªåŠ¨æ£€æµ‹çš„Claudeè®¢é˜…è®¡åˆ’
- **åˆ·æ–°æŒ‰é’®**: æ‰‹åŠ¨åˆ·æ–°ç”¨é‡æ•°æ®
- **é‡ç½®æŒ‰é’®**: é‡ç½®å½“æ—¥è®¡æ•°ï¼ˆéœ€ç¡®è®¤ï¼‰

### è®¡åˆ’æ£€æµ‹

æ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹ä»¥ä¸‹Claudeè®¡åˆ’ç±»å‹ï¼š

- **Claude Free**: å…è´¹è®¡åˆ’ï¼Œæœ‰é™æ¶ˆæ¯æ•°
- **Claude Pro**: ä¸“ä¸šè®¡åˆ’ï¼Œçº¦45æ¡æ¶ˆæ¯/5å°æ—¶
- **Claude Max**: æœ€é«˜è®¡åˆ’ï¼Œçº¦200+æ¡æ¶ˆæ¯/5å°æ—¶

## é«˜çº§é…ç½®

### è‡ªå®šä¹‰é™åˆ¶

å¦‚æœæ’ä»¶æ— æ³•æ­£ç¡®æ£€æµ‹ä½ çš„è®¡åˆ’ï¼Œå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ï¼š

1. æ‰“å¼€ `content.js` æ–‡ä»¶
2. æ‰¾åˆ° `detectPlanType()` å‡½æ•°
3. ä¿®æ”¹ `dailyLimit` å€¼ä¸ºä½ çš„å®é™…é™åˆ¶

```javascript
// ä¾‹å¦‚ï¼šè®¾ç½®è‡ªå®šä¹‰é™åˆ¶ä¸º100æ¡æ¶ˆæ¯
this.usageData.dailyLimit = 100;
```

### ä¿®æ”¹é‡ç½®æ—¶é—´

é»˜è®¤åœ¨åˆå¤œé‡ç½®ï¼Œå¯ä»¥ä¿®æ”¹é‡ç½®æ—¶é—´ï¼š

1. æ‰“å¼€ `background.js` æ–‡ä»¶
2. æ‰¾åˆ° `getNextMidnight()` å‡½æ•°
3. ä¿®æ”¹é‡ç½®æ—¶é—´é€»è¾‘

## æ•…éšœæ’é™¤

### æ’ä»¶ä¸æ˜¾ç¤º

1. ç¡®è®¤å·²è®¿é—® claude.ai ç½‘ç«™
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
3. å°è¯•åˆ·æ–°é¡µé¢

### è®¡æ•°ä¸å‡†ç¡®

1. ç‚¹å‡»"åˆ·æ–°"æŒ‰é’®æ›´æ–°æ•°æ®
2. æ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ªClaudeæ ‡ç­¾é¡µåŒæ—¶æ‰“å¼€
3. é‡ç½®è®¡æ•°å™¨é‡æ–°å¼€å§‹ç»Ÿè®¡

### æƒé™é—®é¢˜

1. ç¡®ä¿æ’ä»¶æœ‰è®¿é—® claude.ai çš„æƒé™
2. æ£€æŸ¥Zen Browserçš„æ‰©å±•è®¾ç½®
3. é‡æ–°åŠ è½½æ’ä»¶

## å¼€å‘è¯´æ˜

### æŠ€æœ¯æ ˆ

- **WebExtensions API** - è·¨æµè§ˆå™¨æ‰©å±•æ ‡å‡†
- **Manifest V3** - æœ€æ–°çš„æ‰©å±•æ¸…å•ç‰ˆæœ¬
- **JavaScript ES6+** - ç°ä»£JavaScriptç‰¹æ€§
- **CSS3** - ç°ä»£æ ·å¼å’ŒåŠ¨ç”»

### å…³é”®ç»„ä»¶

1. **Content Script** (`content.js`)
   - ç›‘æ§é¡µé¢DOMå˜åŒ–
   - æ£€æµ‹æ¶ˆæ¯å‘é€äº‹ä»¶
   - è§£æç”¨é‡é™åˆ¶ä¿¡æ¯

2. **Background Script** (`background.js`)
   - ç®¡ç†æ•°æ®å­˜å‚¨
   - å¤„ç†å®šæ—¶ä»»åŠ¡
   - å‘é€é€šçŸ¥æé†’

3. **Popup Interface** (`popup.html/js`)
   - ç”¨æˆ·ç•Œé¢å±•ç¤º
   - æ•°æ®å¯è§†åŒ–
   - ç”¨æˆ·äº¤äº’å¤„ç†

### æ•°æ®å­˜å‚¨

æ’ä»¶ä½¿ç”¨Chrome Storage APIå­˜å‚¨æ•°æ®ï¼š

```javascript
{
  messagesCount: 0,        // æ¶ˆæ¯è®¡æ•°
  tokensUsed: 0,          // ä»¤ç‰Œä½¿ç”¨é‡ï¼ˆå¾…å®ç°ï¼‰
  lastResetTime: "date",   // ä¸Šæ¬¡é‡ç½®æ—¶é—´
  planType: "pro",        // è®¡åˆ’ç±»å‹
  dailyLimit: 45,         // æ¯æ—¥é™åˆ¶
  currentUsagePercent: 0   // å½“å‰ä½¿ç”¨ç™¾åˆ†æ¯”
}
```

## æ›´æ–°æ—¥å¿—

### v1.0.0 (åˆå§‹ç‰ˆæœ¬)
- âœ… åŸºæœ¬ç”¨é‡ç›‘æ§åŠŸèƒ½
- âœ… æ‚¬æµ®çª—æ˜¾ç¤ºç•Œé¢
- âœ… è®¡åˆ’ç±»å‹è‡ªåŠ¨æ£€æµ‹
- âœ… è¿›åº¦æ¡å’Œç™¾åˆ†æ¯”æ˜¾ç¤º
- âœ… æ¯æ—¥è‡ªåŠ¨é‡ç½®
- âœ… ä¸»é¢˜è‡ªé€‚åº”

### è®¡åˆ’åŠŸèƒ½ (v1.1.0)
- ğŸ”„ ä»¤ç‰Œçº§åˆ«çš„ç”¨é‡è·Ÿè¸ª
- ğŸ”„ æ›´ç²¾ç¡®çš„é™åˆ¶æ£€æµ‹
- ğŸ”„ å†å²ç”¨é‡ç»Ÿè®¡
- ğŸ”„ å¯¼å‡ºç”¨é‡æŠ¥å‘Š
- ğŸ”„ è‡ªå®šä¹‰æé†’é˜ˆå€¼

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªæ’ä»¶ï¼

## è®¸å¯è¯

MIT License - å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ã€‚

## å…è´£å£°æ˜

æ­¤æ’ä»¶éAnthropicå®˜æ–¹äº§å“ï¼Œä»…ç”¨äºä¸ªäººç”¨é‡è·Ÿè¸ªã€‚ç”¨é‡æ•°æ®åŸºäºé¡µé¢è¡Œä¸ºæ¨æµ‹ï¼Œå¯èƒ½ä¸å®Œå…¨å‡†ç¡®ã€‚è¯·ä»¥Claudeå®˜æ–¹æ˜¾ç¤ºçš„ç”¨é‡ä¿¡æ¯ä¸ºå‡†ã€‚